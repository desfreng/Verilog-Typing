
<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Algo</title>
<meta name="description" content="Documentation of Coq module Algo" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="rocqnavi.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="rocqnavi.js"> </script>
</head>

<body onload="init()">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      <li><details id="Verilog"><summary>Verilog</summary>
          <ul>
          <li><a href="Verilog.Algo.html">Algo</a></li>
<li><a href="Verilog.Equiv.html">Equiv</a></li>
<li><a href="Verilog.Expr.html">Expr</a></li>
<li><a href="Verilog.ExprPath.html">ExprPath</a></li>
<li><a href="Verilog.Extr.html">Extr</a></li>
<li><a href="Verilog.Path.html">Path</a></li>
<li><a href="Verilog.Spec.html">Spec</a></li>
<li><a href="Verilog.TaggedExpr.html">TaggedExpr</a></li>
<li><a href="Verilog.TaggedExprPath.html">TaggedExprPath</a></li>
<li><a href="Verilog.TypeSystem.html">TypeSystem</a></li>
<li><a href="Verilog.Utils.html">Utils</a></li>
          </ul>
          </details>
          </li>
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module Algo</h1>
<span class="vernacular">From</span><span class="id"> Stdlib</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Lists.List.html">Lists</a></span>.<span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Lists.List.html">List</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Stdlib</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.Compare_dec.html">Arith</a></span>.<span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.Compare_dec.html">Compare_dec</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Stdlib</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html">PeanoNat</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Stdlib</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Logic.FunctionalExtensionality.html">Logic</a></span>.<span class="vernacular">FunctionalExtensionality</span>.<br/>
<br/>
<span class="vernacular">From</span><span class="id"> Verilog</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html">Expr</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Verilog</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="Verilog.ExprPath.html">ExprPath</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Verilog</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExpr.html">TaggedExpr</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Verilog</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExprPath.html">TaggedExprPath</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Verilog</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="Verilog.TypeSystem.html">TypeSystem</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Verilog</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="Verilog.Spec.html">Spec</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Verilog</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="Verilog.Equiv.html">Equiv</a></span>.<br/>
<span class="vernacular">From</span><span class="id"> Verilog</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> </span><span class="id"><a href="Verilog.Utils.html">Utils</a></span>.<br/>
<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html#Nat">Nat</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Lists.List.html#ListNotations">ListNotations</a></span>.<br/>
<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.Path.html#Path">Path</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr">Expr</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.ExprPath.html#ExprPath">ExprPath</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr">TaggedExpr</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExprPath.html#TaggedExprPath">TaggedExprPath</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.TypeSystem.html#TypeSystem">TypeSystem</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.Equiv.html#Equiv">Equiv</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.Utils.html#Utils">Utils</a></span>.<br/>
<span class="vernacular">Import</span><span class="id"> </span><span class="id"><a href="Verilog.Utils.html#Learn">Learn</a></span>.<br/>
<br/>
<span class="vernacular">Module</span><span class="id"> </span><span id="Algo" class="id"><a name="Algo" class="">Algo</a></span>.<br/>
&nbsp;&nbsp;<span class="vernacular">Fixpoint</span><span class="id"> </span><span id="Algo.determine" class="id"><a name="Algo.determine" class="" title="Algo.determine not a defined object.
">determine</a></span><span class="id"> </span><span id="e:1" class="id"><a name="e:1" class="">e</a></span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:1">e</a></span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EAtom">EAtom</a></span><span class="id"> op</span><span class="id"> =&gt;</span><span class="id"> op</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EBinOp">EBinOp</a></span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="lhs_size:4" class="id"><a name="lhs_size:4" class="">lhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#determine:2">determine</a></span><span class="id"> lhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="rhs_size:5" class="id"><a name="rhs_size:5" class="">rhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#determine:2">determine</a></span><span class="id"> rhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html#Nat.max">max</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#lhs_size:4">lhs_size</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#rhs_size:5">rhs_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EUnOp">EUnOp</a></span><span class="id"> arg</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="arg_size:6" class="id"><a name="arg_size:6" class="">arg_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#determine:2">determine</a></span><span class="id"> arg</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#arg_size:6">arg_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EComp">EComp</a></span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><span class="id"> 1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.ELogic">ELogic</a></span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><span class="id"> 1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EReduction">EReduction</a></span><span class="id"> arg</span><span class="id"> =&gt;</span><span class="id"> 1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EShift">EShift</a></span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="lhs_size:7" class="id"><a name="lhs_size:7" class="">lhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#determine:2">determine</a></span><span class="id"> lhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#lhs_size:7">lhs_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EAssign">EAssign</a></span><span class="id"> lval_size</span><span class="id"> arg</span><span class="id"> =&gt;</span><span class="id"> lval_size</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.ECond">ECond</a></span><span class="id"> arg</span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="lhs_size:8" class="id"><a name="lhs_size:8" class="">lhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#determine:2">determine</a></span><span class="id"> lhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="rhs_size:9" class="id"><a name="rhs_size:9" class="">rhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#determine:2">determine</a></span><span class="id"> rhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html#Nat.max">max</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#lhs_size:8">lhs_size</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#rhs_size:9">rhs_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EConcat">EConcat</a></span><span class="id"> args</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="exprs_size:10" class="id"><a name="exprs_size:10" class="">exprs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Lists.ListDef.html#map">map</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#determine:2">determine</a></span><span class="id"> args</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Utils.html#Utils.sum">sum</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#exprs_size:10">exprs_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.ERepl">ERepl</a></span><span class="id"> n</span><span class="id"> arg</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="arg_size:11" class="id"><a name="arg_size:11" class="">arg_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#determine:2">determine</a></span><span class="id"> arg</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">n</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"> *</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc54"> </a></span><span class="id"><a href="Verilog.Algo.html#arg_size:11">arg_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Fixpoint</span><span class="id"> </span><span id="Algo.propagate" class="id"><a name="Algo.propagate" class="" title="Algo.propagate not a defined object.
">propagate</a></span><span class="id"> </span><span id="e:12" class="id"><a name="e:12" class="">e</a></span><span class="id"> </span><span id="target_size:13" class="id"><a name="target_size:13" class="">target_size</a></span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="annotate:15" class="id"><a name="annotate:15" class="">annotate</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TExpr">TExpr</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:12">e</a></span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EAtom">EAtom</a></span><span class="id"> op</span><span class="id"> =&gt;</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TAtom">TAtom</a></span><span class="id"> op</span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EBinOp">EBinOp</a></span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_lhs:17" class="id"><a name="ann_lhs:17" class="">ann_lhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> lhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_rhs:18" class="id"><a name="ann_rhs:18" class="">ann_rhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> rhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TBinOp">TBinOp</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_lhs:17">ann_lhs</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_rhs:18">ann_rhs</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EUnOp">EUnOp</a></span><span class="id"> arg</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_arg:19" class="id"><a name="ann_arg:19" class="">ann_arg</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> arg</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TUnOp">TUnOp</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_arg:19">ann_arg</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EComp">EComp</a></span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="lhs_size:20" class="id"><a name="lhs_size:20" class="">lhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> lhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="rhs_size:21" class="id"><a name="rhs_size:21" class="">rhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> rhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="arg_size:22" class="id"><a name="arg_size:22" class="">arg_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html#Nat.max">max</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#lhs_size:20">lhs_size</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#rhs_size:21">rhs_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_lhs:23" class="id"><a name="ann_lhs:23" class="">ann_lhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> lhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#arg_size:22">arg_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_rhs:24" class="id"><a name="ann_rhs:24" class="">ann_rhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> rhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#arg_size:22">arg_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TComp">TComp</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_lhs:23">ann_lhs</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_rhs:24">ann_rhs</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.ELogic">ELogic</a></span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="lhs_size:25" class="id"><a name="lhs_size:25" class="">lhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> lhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_lhs:26" class="id"><a name="ann_lhs:26" class="">ann_lhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> lhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#lhs_size:25">lhs_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="rhs_size:27" class="id"><a name="rhs_size:27" class="">rhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> rhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_rhs:28" class="id"><a name="ann_rhs:28" class="">ann_rhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> rhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#rhs_size:27">rhs_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TLogic">TLogic</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_lhs:26">ann_lhs</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_rhs:28">ann_rhs</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EReduction">EReduction</a></span><span class="id"> arg</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="arg_size:29" class="id"><a name="arg_size:29" class="">arg_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> arg</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_arg:30" class="id"><a name="ann_arg:30" class="">ann_arg</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> arg</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#arg_size:29">arg_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TReduction">TReduction</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_arg:30">ann_arg</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EShift">EShift</a></span><span class="id"> lhs</span><span class="id"> rhs</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_lhs:31" class="id"><a name="ann_lhs:31" class="">ann_lhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> lhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="rhs_size:32" class="id"><a name="rhs_size:32" class="">rhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> rhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_rhs:33" class="id"><a name="ann_rhs:33" class="">ann_rhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> rhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#rhs_size:32">rhs_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TShift">TShift</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_lhs:31">ann_lhs</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_rhs:33">ann_rhs</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EAssign">EAssign</a></span><span class="id"> lval_size</span><span class="id"> rhs</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="rhs_size:34" class="id"><a name="rhs_size:34" class="">rhs_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> rhs</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="arg_size:35" class="id"><a name="arg_size:35" class="">arg_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html#Nat.max">max</a></span><span class="id"> lval_size</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#rhs_size:34">rhs_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_rhs:36" class="id"><a name="ann_rhs:36" class="">ann_rhs</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> rhs</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#arg_size:35">arg_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TAssign">TAssign</a></span><span class="id"> lval_size</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_rhs:36">ann_rhs</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.ECond">ECond</a></span><span class="id"> cond</span><span class="id"> true_expr</span><span class="id"> false_expr</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="cond_size:37" class="id"><a name="cond_size:37" class="">cond_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> cond</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_cond:38" class="id"><a name="ann_cond:38" class="">ann_cond</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> cond</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#cond_size:37">cond_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_true:39" class="id"><a name="ann_true:39" class="">ann_true</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> true_expr</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_false:40" class="id"><a name="ann_false:40" class="">ann_false</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> false_expr</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TCond">TCond</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_cond:38">ann_cond</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_true:39">ann_true</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_false:40">ann_false</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.EConcat">EConcat</a></span><span class="id"> args</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_args:43" class="id"><a name="ann_args:43" class="">ann_args</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Lists.ListDef.html#map">map</a></span> (<span class="gallina-kwd">fun</span><span class="id"> </span><span id="expr_i:41" class="id"><a name="expr_i:41" class="">expr_i</a></span><span class="id"> =&gt;</span><span class="gallina-kwd"> let</span><span class="id"> </span><span id="expr_i_size:42" class="id"><a name="expr_i_size:42" class="">expr_i_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#expr_i:41">expr_i</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#expr_i:41">expr_i</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#expr_i_size:42">expr_i_size</a></span>)<span class="id"> args</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TConcat">TConcat</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_args:43">ann_args</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.ERepl">ERepl</a></span><span class="id"> n</span><span class="id"> inner_expr</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="inner_size:44" class="id"><a name="inner_size:44" class="">inner_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> inner_expr</span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="ann_inner:45" class="id"><a name="ann_inner:45" class="">ann_inner</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#propagate:14">propagate</a></span><span class="id"> inner_expr</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#inner_size:44">inner_size</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#annotate:15">annotate</a></span> (<span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TRepl">TRepl</a></span><span class="id"> n</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#ann_inner:45">ann_inner</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#target_size:13">target_size</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span><span class="id"> </span><span id="Algo.type" class="id"><a name="Algo.type" class="" title="Algo.type not a defined object.
">type</a></span><span class="id"> </span><span id="e:46" class="id"><a name="e:46" class="">e</a></span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> </span><span id="expr_size:47" class="id"><a name="expr_size:47" class="">expr_size</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:46">e</a></span><span class="gallina-kwd"> in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:46">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#expr_size:47">expr_size</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Definition</span><span class="id"> </span><span id="Algo.size_at" class="id"><a name="Algo.size_at" class="" title="Algo.size_at not a defined object.
">size_at</a></span><span class="id"> {</span><span id="T:48" class="id"><a name="T:48" class="">T</a></span><span class="id">:</span><span class="id"> Type}</span> (<span id="e:49" class="id"><a name="e:49" class="">e</a></span><span class="id">:</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.TaggedExpr">TaggedExpr</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#T:48">T</a></span>)<span class="id"> </span><span id="p:50" class="id"><a name="p:50" class="">p</a></span><span class="id"> :=</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Datatypes.html#option_map">option_map</a></span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.tag">tag</a></span> (<span class="id"><a href="Verilog.Algo.html#e:49">e</a></span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606"> @@[</a></span><span class="id"><a href="Verilog.Algo.html#p:50">p</a></span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606">]</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span><span class="id"> </span><span id="Algo.propagate_shape1" class="id"><a name="Algo.propagate_shape1" class="" title="Algo.propagate_shape1 not a defined object.
">propagate_shape1</a></span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:51" class="id"><a name="e:51" class="">e</a></span><span class="id"> </span><span id="p:52" class="id"><a name="p:52" class="">p</a></span><span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.ExprPath.html#ExprPath.IsPath">IsPath</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:51">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:52">p</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> -&gt;</a></span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="s:53" class="id"><a name="s:53" class="">s</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExprPath.html#TaggedExprPath.IsTypedPath">IsTypedPath</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:51">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#s:53">s</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:52">p</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">generalize</span><span class="id"> dependent</span><span class="id"> s</span>. <span class="id">induction</span><span class="id"> H;</span><span class="id"> intros;</span><span class="id"> simpl</span><span class="gallina-kwd"> in</span><span class="id"> *;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor;</span><span class="id"> firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Lists.List.html#nth_error_map">nth_error_map</a></span>. <span class="id">rewrite</span><span class="id"> H</span>. <span class="id">reflexivity</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span><span class="id"> </span><span id="Algo.propagate_shape2" class="id"><a name="Algo.propagate_shape2" class="" title="Algo.propagate_shape2 not a defined object.
">propagate_shape2</a></span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:54" class="id"><a name="e:54" class="">e</a></span><span class="id"> </span><span id="p:55" class="id"><a name="p:55" class="">p</a></span><span class="id"> </span><span id="s:56" class="id"><a name="s:56" class="">s</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExprPath.html#TaggedExprPath.IsTypedPath">IsTypedPath</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:54">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#s:56">s</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:55">p</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> -&gt;</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> </a></span><span class="id"><a href="Verilog.ExprPath.html#ExprPath.IsPath">IsPath</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:54">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:55">p</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span><span class="id"> e;</span><span class="id"> intros;</span><span class="id"> try</span> (<span class="id">inv</span><span class="id"> H;</span><span class="id"> constructor;</span><span class="id"> firstorder</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span><span class="id"> H0</span>. <span class="id">constructor</span>. <span class="id">destruct</span> (<span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Lists.List.html#nth_error">nth_error</a></span><span class="id"> args</span><span class="id"> n</span>)<span class="id"> eqn:Hnth;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Lists.List.html#nth_error_map">nth_error_map</a></span><span class="gallina-kwd"> in</span><span class="id"> H3;</span><span class="id"> rewrite</span><span class="id"> Hnth</span><span class="gallina-kwd"> in</span><span class="id"> H3;</span><span class="id"> inv</span><span class="id"> H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eassumption</span>. <span class="id">apply</span> (<span class="id">H</span><span class="id"> _</span><span class="id"> _</span><span class="id"> Hnth</span><span class="id"> _</span><span class="id"> _</span><span class="id"> H5</span>).<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Theorem</span><span class="id"> </span><span id="Algo.propagate_shape" class="id"><a name="Algo.propagate_shape" class="" title="Algo.propagate_shape not a defined object.
">propagate_shape</a></span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:57" class="id"><a name="e:57" class="">e</a></span><span class="id"> </span><span id="p:58" class="id"><a name="p:58" class="">p</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.ExprPath.html#ExprPath.IsPath">IsPath</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:57">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:58">p</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"> &lt;-&gt;</a></span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="s:59" class="id"><a name="s:59" class="">s</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExprPath.html#TaggedExprPath.IsTypedPath">IsTypedPath</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:57">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#s:59">s</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:58">p</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span><span class="id"> intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply</span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate_shape1">propagate_shape1</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply</span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate_shape2">propagate_shape2</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> 0</span> (<span class="id">H</span><span class="id"> _</span>)).<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Theorem</span><span class="id"> </span><span id="Algo.type_shape" class="id"><a name="Algo.type_shape" class="" title="Algo.type_shape not a defined object.
">type_shape</a></span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:60" class="id"><a name="e:60" class="">e</a></span><span class="id"> </span><span id="p:61" class="id"><a name="p:61" class="">p</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.ExprPath.html#ExprPath.IsPath">IsPath</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:60">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:61">p</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"> &lt;-&gt;</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"> </a></span><span class="id"><a href="Verilog.TaggedExprPath.html#TaggedExprPath.IsTypedPath">IsTypedPath</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.type">type</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:60">e</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:61">p</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">split;</span><span class="id"> intros;</span><span class="id"> unfold</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.type">type</a></span><span class="gallina-kwd"> in</span><span class="id"> *</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply</span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate_shape1">propagate_shape1</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> H</span><span class="id"> _</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply</span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate_shape2">propagate_shape2</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> H</span>).<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span><span class="id"> </span><span id="Algo.determine_top_size" class="id"><a name="Algo.determine_top_size" class="" title="Algo.determine_top_size not a defined object.
">determine_top_size</a></span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:62" class="id"><a name="e:62" class="">e</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:62">e</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="Verilog.Spec.html#Spec.determine">Spec</a></span>.<span class="id"><a href="Verilog.Spec.html#Spec.determine">determine</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:62">e</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> induction</span><span class="id"> e</span><span class="gallina-kwd"> using</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.Expr_ind">Expr_ind</a></span><span class="id">;</span><span class="id"> reflexivity</span>. Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span><span class="id"> </span><span id="Algo.propagate_top_size" class="id"><a name="Algo.propagate_top_size" class="" title="Algo.propagate_top_size not a defined object.
">propagate_top_size</a></span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:63" class="id"><a name="e:63" class="">e</a></span><span class="id"> </span><span id="s:64" class="id"><a name="s:64" class="">s</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.tag">tag</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:63">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#s:64">s</a></span>)<span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="Verilog.Algo.html#s:64">s</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> intros;</span><span class="id"> destruct</span><span class="id"> e;</span><span class="id"> reflexivity</span>. Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span><span class="id"> </span><span id="Algo.type_top_size" class="id"><a name="Algo.type_top_size" class="" title="Algo.type_top_size not a defined object.
">type_top_size</a></span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:65" class="id"><a name="e:65" class="">e</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.TaggedExpr.html#TaggedExpr.tag">tag</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.type">type</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:65">e</a></span>)<span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:65">e</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">unfold</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.type">type</a></span>. <span class="id">rewrite</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine_top_size">determine_top_size</a></span>. <span class="id">apply</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.propagate_top_size">propagate_top_size</a></span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Ltac</span><span class="id"> inv_path</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> goal</span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H:</span><span class="id"> </span><span class="id"><a href="Verilog.ExprPath.html#ExprPath.IsPath">IsPath</a></span> (_<span class="id"> _</span>)<span class="id"> _</span><span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><span class="id"> inv</span><span class="id"> H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;.<br/>
<br/>
&nbsp;&nbsp;<span class="vernacular">Lemma</span><span class="id"> </span><span id="Algo.propagate_size_path_lemma" class="id"><a name="Algo.propagate_size_path_lemma" class="" title="Algo.propagate_size_path_lemma not a defined object.
">propagate_size_path_lemma</a></span><span class="id"> :</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">forall</span><span class="id"> </span><span id="e:66" class="id"><a name="e:66" class="">e</a></span><span class="id"> </span><span id="s:67" class="id"><a name="s:67" class="">s</a></span><span class="id"> </span><span id="fc:68" class="id"><a name="fc:68" class="">fc</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:66">e</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> &lt;==</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id"><a href="Verilog.Algo.html#s:67">s</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id"><a href="Verilog.Algo.html#fc:68">fc</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> -&gt;</a></span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="p:69" class="id"><a name="p:69" class="">p</a></span><span class="id">,</span><span class="id"> </span><span class="id"><a href="Verilog.ExprPath.html#ExprPath.IsPath">IsPath</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:66">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:69">p</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> -&gt;</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> </a></span><span class="id"><a href="Verilog.Algo.html#fc:68">fc</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:69">p</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="Verilog.Algo.html#Algo.size_at">size_at</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:66">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#s:67">s</a></span>)<span class="id"> </span><span class="id"><a href="Verilog.Algo.html#p:69">p</a></span>.<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="vernacular">Ltac</span><span class="id"> _propagate_size_dec</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> goal</span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> |-</span><span class="id"> _</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Datatypes.html#option_map">option_map</a></span><span class="id"> _</span> ((<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> _</span> (<span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html#Nat.max">max</a></span><span class="id"> ?n</span><span class="id"> ?m</span>))<span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606"> @@[</a></span><span class="id">_</span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606">]</a></span>)<span class="id"> ]</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> nH</span><span class="id"> :=</span><span class="id"> fresh</span><span class="gallina-kwd"> in</span><span class="id"> destruct</span> (<span class="id"><a href="Verilog.Utils.html#Utils.max_dec_bis">max_dec_bis</a></span><span class="id"> n</span><span class="id"> m</span>)<span class="gallina-kwd"> as</span><span class="id"> [[nH</span><span class="id"> ?]|[nH</span><span class="id"> ?]];</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> nH</span><span class="gallina-kwd"> in</span><span class="id"> *;</span><span class="id"> clear</span><span class="id"> nH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="vernacular">Ltac</span><span class="id"> _propagate_size_p_lem</span><span class="id"> :=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> goal</span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H:</span><span class="id"> _</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span>_<span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><span class="id"> rewrite</span><span class="id"> &lt;-</span><span class="id"> H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H:</span><span class="id"> _</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> -&gt;</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> </a></span>_<span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><span class="id"> eapply</span><span class="id"> H;</span><span class="id"> eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H:</span><span class="id"> _</span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> ==&gt;</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span>_<span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span>_<span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">learn</span> (<span class="id"><a href="Verilog.Equiv.html#Equiv.synth_must_be_determine">synth_must_be_determine</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> H</span>)<span class="id">;</span><span class="id"> splitHyp;</span><span class="id"> subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H:</span><span class="id"> ?e</span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> ==&gt;</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span><span class="id"><a href="Verilog.Spec.html#Spec.determine">Spec</a></span>.<span class="id"><a href="Verilog.Spec.html#Spec.determine">determine</a></span><span class="id"> ?e</span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span>_<span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">learn</span> (<span class="id"><a href="Verilog.TypeSystem.html#TypeSystem.synth_can_check">synth_can_check</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> H</span> (<span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html#Nat.le_refl">le_refl</a></span><span class="id"> _</span>))<span class="id">;</span><span class="id"> existsHyp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H:</span><span class="id"> ?e</span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> ==&gt;</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span><span class="id">?t</span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span><span class="id">?f1,</span><span class="id"> F:</span><span class="id"> ?e</span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> &lt;==</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id">?t</span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id">?f2</span><span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">let</span><span class="id"> nH</span><span class="id"> :=</span><span class="id"> fresh</span><span class="gallina-kwd"> in</span><span class="id"> assert</span> (<span class="id">nH:</span><span class="id"> f1</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id">f2</span>)<span class="gallina-kwd"> by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">extensionality</span><span class="id"> p;</span><span class="id"> apply</span> (<span class="id"><a href="Verilog.TypeSystem.html#TypeSystem.synth_check_inj_f">synth_check_inj_f</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> H</span><span class="id"> F</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">learn</span><span class="id"> nH;</span><span class="id"> subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H:</span><span class="id"> ?e1</span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> ==&gt;</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span><span class="id">?t</span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span><span class="id">_,</span><span class="id"> F:</span><span class="id"> ?e2</span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> &lt;==</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id">?t</span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span>_<span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">learn</span> (<span class="id"><a href="Verilog.Equiv.html#Equiv.synth_check_determine_order">synth_check_determine_order</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> H</span><span class="id"> F</span> (<span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Arith.PeanoNat.html#Nat.le_refl">le_refl</a></span><span class="id"> _</span>))<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span><span class="id"> antisym;</span><span class="id"> subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H:</span><span class="id"> ?e</span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> &lt;==</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id">?t</span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id">_,</span><span class="id"> F:</span><span class="id"> ?t</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"> &lt;=</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"> </a></span><span class="id"><a href="Verilog.Spec.html#Spec.determine">Spec</a></span>.<span class="id"><a href="Verilog.Spec.html#Spec.determine">determine</a></span><span class="id"> ?e</span><span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">learn</span> (<span class="id"><a href="Verilog.Equiv.html#Equiv.synth_and_order">Equiv</a></span>.<span class="id"><a href="Verilog.Equiv.html#Equiv.synth_and_order">synth_and_order</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> H</span><span class="id"> F</span>)<span class="id">;</span><span class="id"> subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">|</span><span class="id"> [</span><span class="id"> H</span><span class="id"> :</span><span class="id"> context</span><span class="id"> [</span><span class="id"><a href="Verilog.Spec.html#Spec.determine">Spec</a></span>.<span class="id"><a href="Verilog.Spec.html#Spec.determine">determine</a></span><span class="id"> _]</span><span class="id"> |-</span><span class="id"> _</span><span class="id"> ]</span><span class="id"> =&gt;</span><span class="id"> rewrite</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine_top_size">determine_top_size</a></span><span class="gallina-kwd"> in</span><span class="id"> H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">induction</span><span class="id"> e</span><span class="gallina-kwd"> using</span><span class="id"> </span><span class="id"><a href="Verilog.Expr.html#Expr.Expr_ind">Expr_ind</a></span><span class="id">;</span><span class="id"> intros;</span><span class="id"> simpl</span><span class="gallina-kwd"> in</span><span class="id"> *;</span><span class="id"> unfold</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.size_at">size_at</a></span><span class="id">;</span><span class="id"> inv_path;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">try</span> (<span class="id">apply</span><span class="id"> </span><span class="id"><a href="Verilog.TypeSystem.html#TypeSystem.check_root">check_root</a></span><span class="gallina-kwd"> in</span><span class="id"> H;</span><span class="id"> simpl;</span><span class="id"> congruence</span>)<span class="id">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv_ts;</span><span class="id"> simpl;</span><span class="id"> repeat</span> (<span class="id">rewrite</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine_top_size">determine_top_size</a></span>)<span class="id">;</span><span class="id"> try</span><span class="id"> _propagate_size_dec;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span><span class="id"> _propagate_size_p_lem;</span><span class="id"> try</span><span class="id"> lia;</span><span class="id"> try</span><span class="id"> reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> (<span class="id">gen_nth</span>). <span class="id">repeat</span> (<span class="id">rewrite</span><span class="id"> </span><span class="id"><a href="https://rocq-prover.org/stdlib/Stdlib.Lists.List.html#nth_error_map">nth_error_map</a></span>). <span class="id">rewrite</span><span class="id"> H3</span>. <span class="id">rewrite</span><span class="id"> H0</span>. <span class="id">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span> (<span class="id">rewrite</span><span class="id"> up_top_size</span>). <span class="id">specialize</span> (<span class="id">H8</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> H3</span><span class="id"> H1</span><span class="id"> H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">repeat</span><span class="id"> _propagate_size_p_lem</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Theorem</span><span class="id"> </span><span id="Algo.propagate_size_path" class="id"><a name="Algo.propagate_size_path" class="" title="Algo.propagate_size_path not a defined object.
">propagate_size_path</a></span><span class="id"> :</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:70" class="id"><a name="e:70" class="">e</a></span><span class="id"> </span><span id="s:71" class="id"><a name="s:71" class="">s</a></span><span class="id">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:70">e</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"> &lt;=</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"> </a></span><span class="id"><a href="Verilog.Algo.html#s:71">s</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> -&gt;</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"> </a></span><span class="id"><a href="Verilog.Algo.html#e:70">e</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> &lt;==</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id"><a href="Verilog.Algo.html#s:71">s</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id"><a href="Verilog.Algo.html#Algo.size_at">size_at</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:70">e</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#s:71">s</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="id">destruct</span> (<span class="id"><a href="Verilog.TypeSystem.html#TypeSystem.always_synth">always_synth</a></span><span class="id"> e</span>)<span class="gallina-kwd"> as</span><span class="id"> [t</span><span class="id"> [f</span><span class="id"> Hs]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Verilog.Equiv.html#Equiv.synth_must_be_determine">synth_must_be_determine</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> Hs</span>). <span class="id">subst</span>. <span class="id">clear</span><span class="id"> H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Verilog.TypeSystem.html#TypeSystem.synth_can_check">synth_can_check</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> Hs</span><span class="id"> H</span>)<span class="gallina-kwd"> as</span><span class="id"> [fc</span><span class="id"> Hc]</span>. <span class="id">clear</span><span class="id"> Hs</span>. <span class="id">clear</span><span class="id"> f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Hfc:</span><span class="id"> fc</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="Verilog.Algo.html#Algo.size_at">size_at</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> e</span><span class="id"> s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">extensionality</span><span class="id"> p</span>. <span class="id">destruct</span> (<span class="id"><a href="Verilog.ExprPath.html#ExprPath.IsPath_dec">IsPath_dec</a></span><span class="id"> e</span><span class="id"> p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.propagate_size_path_lemma">propagate_size_path_lemma</a></span><span class="id">;</span><span class="id"> assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="id"> assert</span> (<span class="id">fc</span><span class="id"> p</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span><span class="id"> destruct</span> (<span class="id">fc</span><span class="id"> p</span>)<span class="id"> eqn:Hfc;</span><span class="id"> try</span><span class="id"> reflexivity</span>. <span class="id">exfalso</span>. <span class="id">apply</span><span class="id"> n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span> (<span class="id"><a href="Verilog.TypeSystem.html#TypeSystem.check_f_path">check_f_path</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> Hc</span>). <span class="id">firstorder</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> e</span><span class="id"> s</span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606"> @@[</a></span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606"> </a></span><span class="id">p</span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606">]</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span><span class="id"> destruct</span> (<span class="id"><a href="Verilog.Algo.html#Algo.propagate">propagate</a></span><span class="id"> e</span><span class="id"> s</span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606"> @@[</a></span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606"> </a></span><span class="id">p</span><span class="id"><a href="Verilog.TaggedExprPath.html#20afe50fbda92c85b16f70290cfe4606">]</a></span>)<span class="id"> eqn:Hpr;</span><span class="id"> try</span><span class="id"> reflexivity</span>. <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span><span class="id"> n</span>. <span class="id">eapply</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.propagate_shape2">propagate_shape2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply</span> (<span class="id"><a href="Verilog.TaggedExprPath.html#TaggedExprPath.sub_typed_expr_valid">sub_typed_expr_valid</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> Hpr</span>). <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfold</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.size_at">size_at</a></span>. <span class="id">rewrite</span><span class="id"> H1</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> &lt;-</span><span class="id"> Hfc</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<br/>
&nbsp;&nbsp;<span class="vernacular">Theorem</span><span class="id"> </span><span id="Algo.type_correction" class="id"><a name="Algo.type_correction" class="" title="Algo.type_correction not a defined object.
">type_correction</a></span><span class="id">:</span><span class="gallina-kwd"> forall</span><span class="id"> </span><span id="e:72" class="id"><a name="e:72" class="">e</a></span><span class="id">,</span><span class="gallina-kwd"> exists</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"> </a></span><span id="t:73" class="id"><a name="t:73" class="">t</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54">,</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"> </a></span><span class="id"><a href="Verilog.Algo.html#e:72">e</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> ==&gt;</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span><span class="id"><a href="Verilog.Algo.html#t:73">t</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#9e0e918b07b97351320e221f7e7c4ad9"> </a></span><span class="id"><a href="Verilog.Algo.html#Algo.size_at">size_at</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.type">type</a></span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#e:72">e</a></span>).<br/>
<details>
&nbsp;&nbsp;<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intros</span>. <span class="gallina-kwd">exists</span> (<span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> e</span>). <span class="id">destruct</span> (<span class="id"><a href="Verilog.TypeSystem.html#TypeSystem.always_synth">always_synth</a></span><span class="id"> e</span>)<span class="gallina-kwd"> as</span><span class="id"> [t</span><span class="id"> [f</span><span class="id"> Hs]]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">destruct</span> (<span class="id"><a href="Verilog.Equiv.html#Equiv.synth_must_be_determine">synth_must_be_determine</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> Hs</span>)<span class="id">;</span><span class="id"> subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Hc:</span><span class="id"> e</span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> &lt;==</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id"><a href="Verilog.Algo.html#Algo.determine">determine</a></span><span class="id"> e</span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> -|</a></span><span class="id"><a href="Verilog.TypeSystem.html#44931ee6d1fde60dbf0dc7be0b6c95e6"> </a></span><span class="id"><a href="Verilog.Algo.html#Algo.size_at">size_at</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.type">type</a></span><span class="id"> e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">{</span><span class="id"> unfold</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.type">type</a></span>. <span class="id">rewrite</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.determine_top_size">determine_top_size</a></span>. <span class="id">apply</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo.propagate_size_path">propagate_size_path</a></span>. <span class="id">reflexivity</span>. <span class="id">}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assert</span> (<span class="id">Hf:</span><span class="id"> f</span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> =</a></span><span class="id"><a href="https://rocq-prover.org/corelib/Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"> </a></span><span class="id"><a href="Verilog.Algo.html#Algo.size_at">size_at</a></span> (<span class="id"><a href="Verilog.Algo.html#Algo.type">type</a></span><span class="id"> e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span> (<span class="id">extensionality</span><span class="id"> p;</span><span class="id"> apply</span> (<span class="id"><a href="Verilog.TypeSystem.html#TypeSystem.synth_check_inj_f">synth_check_inj_f</a></span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> Hs</span><span class="id"> Hc</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">subst</span>. <span class="id">assumption</span>.<br/>
&nbsp;&nbsp;Qed.</div></details>
<span class="vernacular">End</span><span class="id"> </span><span class="id"><a href="Verilog.Algo.html#Algo">Algo</a></span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/affeldt-aist/rocqnavi/">rocqnavi</a></div>
    </div>
  </div>
    </main>
</body>
</html>
